<!doctype html>
<!--
  Material Design Lite
  Copyright 2015 Google Inc. All rights reserved.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

      https://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License
-->
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="Desenvolvedor full-stack e entusiasta de chatbots">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <title>Marcus Beckenkamp - Developer</title>

    <!-- Add to homescreen for Chrome on Android -->
    <meta name="mobile-web-app-capable" content="yes">
    <link rel="icon" sizes="192x192" href="static/android-desktop.png">

    <!-- Add to homescreen for Safari on iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="Material Design Lite">
    <link rel="apple-touch-icon-precomposed" href="images/ios-desktop.png">

    <!-- Tile icon for Win8 (144x144 + tile color) -->
    <meta name="msapplication-TileImage" content="images/touch/ms-touch-icon-144x144-precomposed.png">
    <meta name="msapplication-TileColor" content="#3372DF">

    <link rel="shortcut icon" href="static/favicon.png">

    <!-- SEO: If your mobile URL is different from the desktop URL, add a canonical link to the desktop page https://developers.google.com/webmasters/smartphone-sites/feature-phones -->
    <!--
    <link rel="canonical" href="http://www.example.com/">
    -->

    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:regular,bold,italic,thin,light,bolditalic,black,medium&amp;lang=en">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.teal-red.min.css">
    <style>
    #view-source {
      position: fixed;
      display: block;
      right: 0;
      bottom: 0;
      margin-right: 40px;
      margin-bottom: 40px;
      z-index: 900;
    }

    .demo-ribbon {
      width: 100%;
      height: 40vh;
      background-color: #3F51B5;
      -webkit-flex-shrink: 0;
          -ms-flex-negative: 0;
              flex-shrink: 0;
    }

    .demo-main {
      margin-top: -35vh;
      -webkit-flex-shrink: 0;
          -ms-flex-negative: 0;
              flex-shrink: 0;
    }

    .demo-header .mdl-layout__header-row {
      padding-left: 40px;
    }
    .demo-layout.is-small-screen .demo-header .mdl-layout__header-row {
      padding-left: 20px;
    }

    .demo-layout.is-small-screen .mdl-layout-title {
      font-size: 12px;
    }

    .demo-container {
      max-width: 1600px;
      width: calc(100% - 16px);
      margin: 0 auto;
    }

    .demo-content {
      border-radius: 2px;
      padding: 5px 5px;
      margin-bottom: 10px;
    }

    /*.demo-layout.is-small-screen .demo-content {
      padding: 40px 28px;
    }*/

    .demo-content h3 {
      margin-top: 48px;
    }

    .demo-footer {
      padding-left: 40px;
    }

    .demo-footer .mdl-mini-footer--link-list a {
      font-size: 13px;
    }


    /* CHAT SCREEN */
    #chat-screen {
      max-height: 350px;
      overflow: auto;
    }

    .demo-layout.is-small-screen #chat-screen {
      max-height: 270px;
    }

    form .mdl-button--icon {
      margin-top: 20px;
    }


    /* CHAT LIST */
    .mdl-list__item, .mdl-list__item .mdl-list__item-primary-content {
      align-items: flex-start;
      -ms-flex-align: flex-start;
      -webkit-align-items: flex-start;
    }
    .mdl-list__item .mdl-list__item-primary-content .mdl-list__item-avatar {
      margin: 0 6px;
    }
    .text-right {
      text-align: right;
      font-size: 14px;
      background-color: lightgray;
      padding: 10px;
      border-radius: 7px;
    }
    .text-left {
      font-size: 14px;
      background-color: lightblue;
      padding: 10px;
      border-radius: 7px;
    }
    .right-item {
      float: right;
      width: 100%;
    }
    .right-item span {
      width: 80%;
    }
    .right-item .icon-avatar {
      background: url('static/android-red-square.png') top center;
      background-size: 150%;
      min-width: 40px !important;
      height: 40px;
      margin: 0 6px;
      border-radius: 50%;
      box-sizing: border-box;
    }

    /* CARD */
    .demo-card-square.mdl-card {
      width: 256px;
      margin-left: 20px;
      display: inline-block;
    }
    .mdl-card__title-text {
      z-index: 1;
      font-size: 18px;
    }
    .demo-card-square > .mdl-card__title {
      height: 130px;
      color: #fff;
      background:
        url('https://cdn-images-1.medium.com/max/800/1*wpbaB_3ERWyl47-XdNleAg.jpeg') bottom right 15% no-repeat #46B6AC;
    }
    .demo-card-square > .mdl-card__title:before {
      background-color: black;
      height: 130px;
      width: 100%;
      content: "";
      opacity: 0.7;
      position: absolute;
      display: block;
      left: 0;
    }
    .demo-card-square > .mdl-card__supporting-text {
      text-overflow: ellipsis;
      white-space: nowrap;
    }

    .mdl-chip {
      margin-left: 6px;
    }

    .demo-card-event.mdl-card {
      width: 256px;
      min-height: 240px;
      background: #3E4EB8;
      margin-bottom: 6px;
      margin-left: 20px;
      display: inline-block;
    }
    .demo-card-event > .mdl-card__actions {
      border-color: rgba(255, 255, 255, 0.2);
    }
    .demo-card-event > .mdl-card__title {
      align-items: flex-start;
    }
    .demo-card-event > .mdl-card__title > h4 {
      margin-top: 0;
    }
    .demo-card-event > .mdl-card__actions {
      display: flex;
      box-sizing:border-box;
      align-items: center;
    }
    .demo-card-event > .mdl-card__actions > .material-icons {
      padding-right: 10px;
    }
    .demo-card-event > .mdl-card__title,
    .demo-card-event > .mdl-card__actions,
    .demo-card-event > .mdl-card__actions > .mdl-button {
      color: #fff;
    }

    .full-card-wrapper {
      width: 100%;
      height: 250px;
      overflow: scroll;
    }
    .full-card {
      width: calc(280px * 6);
    }

    .chat-message {
      float: left;
      text-align: left;
      width: 90%;
      margin: 0px 20px 5px 20px;
      display: table-row;
    }
    .chat-wrapper {
      width: 100%;
      display: table-cell;
    }
    .chat-message-text {
      background-color: lightblue;
      max-width: 70%;
      float: left;
      font-size: 11pt;
      line-height: 1;
      padding: 10px;
      margin: 0 10px;
      border-radius: 10px 10px 10px 0;
    }
    .chat-me .chat-message-text {
      background-color: lightgray;
      float: right;
      border-radius: 10px 10px 0 10px;
    }
    .chat-message-profile {
      display: table-cell;
      vertical-align: bottom;
    }
    .chat-message .profile-pic img {
      width: 40px;
      height: 40px;
      margin-bottom: 0;
    }
    .profile-pic img {
      margin-right: 10px;
      width: 100px;
      height: 100px;
    }
    .img-circle {
      border-radius: 50%;
    }

    </style>
  </head>
  <body>
    <div class="demo-layout mdl-layout mdl-layout--fixed-header mdl-js-layout mdl-color--grey-100">
      <header class="demo-header mdl-layout__header mdl-layout__header--scroll mdl-color--grey-100 mdl-color-text--grey-800">
        <div class="mdl-layout__header-row">
          <span class="mdl-layout-title">Marcus Beckenkamp</span>
          <div class="mdl-layout-spacer"></div>
          <div class="mdl-textfield mdl-js-textfield mdl-textfield--expandable">
            <label class="mdl-button mdl-js-button mdl-button--icon" for="search">
              <i class="material-icons">search</i>
            </label>
            <div class="mdl-textfield__expandable-holder">
              <form action="https://blog.mbeck.com.br/search" target="_blank">
                <input class="mdl-textfield__input" type="text" id="search" name="q">
                <label class="mdl-textfield__label" for="search">O que vocÃª procura?</label>
              </form>
            </div>
          </div>
        </div>
      </header>
      <div class="demo-ribbon"></div>
      <main class="demo-main mdl-layout__content">
        <div class="demo-container mdl-grid">
          <div class="mdl-cell mdl-cell--4-col mdl-cell--2-col-tablet mdl-cell--hide-phone"></div>
          <div class="demo-content mdl-color--white mdl-shadow--4dp content mdl-color-text--grey-800 mdl-cell mdl-cell--4-col">
            <!--<div class="demo-crumbs mdl-color-text--grey-500">
              Google &gt; Material Design Lite &gt; How to install MDL
            </div>-->

            <div id="chat-screen" class="demo-list-action mdl-list">

            </div>

            <div id="loading" class="mdl-progress mdl-js-progress mdl-progress__indeterminate" style="display:none;"></div>

            <form id="chat-message-form" method="post">
              <div class="mdl-grid">
                <div class="mdl-cell mdl-cell--10-col mdl-cell--6-col-tablet">
                  <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                    <input class="mdl-textfield__input" type="text" id="user-message" name="user_message" autocomplete="off">
                    <label class="mdl-textfield__label" for="user-message">Diga alguma coisa</label>
                  </div>
                </div>
                <div class="mdl-cell mdl-cell--2-col mdl-cell--2-col-tablet mdl-cell--hide-phone">
                  <button type="submit" class="mdl-button mdl-js-button mdl-button--icon">
                    <i class="material-icons">send</i>
                  </button>
                </div>
              </div>
            </form>

          </div>
        </div>
        <!--<footer class="demo-footer mdl-mini-footer">
          <div class="mdl-mini-footer--left-section">
            <ul class="mdl-mini-footer--link-list">
              <li><a href="#">Help</a></li>
              <li><a href="#">Privacy and Terms</a></li>
              <li><a href="#">User Agreement</a></li>
            </ul>
          </div>
        </footer>-->
      </main>
    </div>

    <a href="http://blog.mbeck.com.br" target="_blank" id="view-source" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-color--accent mdl-color-text--accent-contrast">Beck Blog</a>
    <script src="https://code.getmdl.io/1.3.0/material.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
    <script type="text/javascript" src="https://www.google.com/jsapi"></script>
    <script src="levenshtein.js"></script>

    <script>

      function toggleLoadingBar(show) {
        if (!show)
          $("#loading").hide();
        else
          $("#loading").show();
      }

      function showChatItem(message, add_attachment_block) {
        toggleLoadingBar(true);
        setTimeout(function() {

          $("#chat-screen").append('' +
            '<div class="chat-message chat-me">' +
              '<div class="chat-wrapper">' +
                '<div class="chat-message-text">' + message + '</div>' +
              '</div>' +
              '<div class="chat-message-profile chat-me">' + 
                '<div class="profile-pic">' +
                  '<div class="profile-pic-img">' +
                    '<img src="static/android-red-square.png" class="img-circle">' +
                  '</div>' +
                '</div>' +
              '</div>' +
            '</div>');

          if (add_attachment_block !== undefined) {
            $("#chat-screen").append('<div class="full-card-wrapper"><div class="full-card"></div></div>');
          }

          doScrollBottom();
          toggleLoadingBar(false);
        }, 1000);
      }

      function showLinkCard(data) {
        toggleLoadingBar(true);
        var image_url = (data.image_url != '') ? 'style="background-image: url(' + data.image_url + '); background-position: bottom right; background-size: 100%; background-repeat: no-repeat; background-color: #46B6AC;"' : '';

        setTimeout(function() {
          $(".full-card:last").append('' +
            '<div class="demo-card-square mdl-card mdl-shadow--2dp">' +
              '<div class="mdl-card__title mdl-card--expand" ' + image_url + '>' +
                '<h2 class="mdl-card__title-text">' + data.title + '</h2>' +
              '</div>' +
              '<div class="mdl-card__supporting-text">' +
                data.description +
              '</div>' +
              '<div class="mdl-card__actions mdl-card--border">' +
                '<a href="' + data.link + '" target="_blank" class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect">' +
                  'Acessar' +
                '</a>' +
              '</div>' +
            '</div>');

          doScrollBottom();
          toggleLoadingBar(false);
        }, 1000);
      }

      showChatItem('Bem-vindo ao site do Marcus Beckenkamp!');
      setTimeout(function() { showChatItem('Eu sou o BK, o robÃ´ assistente do Marcus. Para comeÃ§ar vocÃª pode digitar "menu"...'); }, 1000);
      setTimeout(function() { showChatItem('Essa conversa se auto-destruirÃ¡ assim que o navegador for fechado! D='); }, 2000);

      function showButtons(data) {
        toggleLoadingBar(true);

        setTimeout(function() {
          $("#chat-screen").append('<div class="buttons-wrapper mdl-list__item"></div>');

          for (var i = 0; i < data.length; i++) {
            if (data[i].intent !== undefined) {
              var action = 'onclick="javascript:getResponse(\'' + data[i].intent + '\')"';
            } else {
              var action = 'href="' + data[i].url + '" target="_blank"';
            }
            $(".buttons-wrapper:last").append('' +
              '<a class="mdl-chip" ' + action + '>' +
                '<span class="mdl-chip__text">' + data[i].text + '</span>' +
              '</a>');
          }
          doScrollBottom();
          toggleLoadingBar(false);
        }, 1000);
      }

      function showFullCard(data) {
        toggleLoadingBar(true);

        var bg_color = (data.bg_color !== undefined) ? 'style="background-color: ' + data.bg_color +'"' : '';
        var icon = (data.icon !== undefined) ? data.icon : 'work';

        setTimeout(function() {
          $(".full-card:last").append('' +
            '<div class="demo-card-event mdl-card mdl-shadow--2dp" ' + bg_color + '>' +
              '<div class="mdl-card__title mdl-card--expand">' +
                '<h4>' +
                  data.title +
                '<br><small>' +
                  data.description +
                '</small></h4>' +
              '</div>' +
              '<div class="mdl-card__actions mdl-card--border">' +
                '<a href="' + data.href + '" target="_blank" class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect">' +
                  data.button_text +
                '</a>' +
                '<div class="mdl-layout-spacer"></div>' +
                '<i class="material-icons">' + icon + '</i>' +
              '</div>' +
            '</div>');

          doScrollBottom();
          toggleLoadingBar(false);
        }, 1000);
      }


      // GET SUBMIT
      $("#chat-message-form").submit(function(){
        let data = $(this).serializeArray();
        let message = data[0].value;

        if (message == '')
          return false;

        $("#user-message").val('');

        $("#chat-screen").append('' +
            '<div class="chat-message">' +
              '<div class="chat-message-profile chat-me">' + 
                '<div class="profile-pic">' +
                  '<div class="profile-pic-img">' +
                    '<i class="material-icons mdl-list__item-avatar">person</i>' +
                  '</div>' +
                '</div>' +
              '</div>' +
              '<div class="chat-wrapper">' +
                '<div class="chat-message-text">' + message + '</div>' +
              '</div>' +
            '</div>');

        getResponse(message);
        doScrollBottom();
        return false;
      });

      function doScrollBottom() {
        var myDiv = $("#chat-screen");
        myDiv.animate({ scrollTop: myDiv[0].scrollHeight - myDiv.height() }, 1000);
      }

      function getResponse(message) {
        /**
         * Function that handles conversation
         */
        var intent = verifyIntent(message);

        if (intent == 'links') {
          showChatItem(getRandResponse(intent));
          showButtons(links_data);
        } else if (intent == 'posts') {
          showChatItem(getRandResponse(intent), true);
          for (var i = 0; i <= 5; i++) {
            showLinkCard(links[i]);
          }
        } else if (intent == 'about') {
          showChatItem(getRandResponse(intent));
          setTimeout(function() { showChatItem(getRandResponse(intent + '1')); }, 2000);
        } else if (intent == 'works') {
          showChatItem(getRandResponse(intent), true);
          for (var i = 0; i < works_data.length; i++) {
            showFullCard(works_data[i]);
          }
        } else {
          if (getRandResponse(intent) == null) {
            showChatItem(getRandResponse("no_answer"));
          } else {
            showChatItem(getRandResponse(intent));

            if (intent == 'menu') {
              showButtons(menu_data);
            }
          }
        }
      }

      function verifyIntent(message) {
        var message_lower = message.toLowerCase()

        // If intent is to see menu
        if (verifyWord(message_lower, 'menu') ||
            verifyWord(message_lower, 'opÃ§Ãµes') ||
            verifyWord(message_lower, 'ajuda')) {
              return 'menu';
        }

        // If intent is to see menu
        if (verifyWord(message_lower, 'trabalhos') ||
            verifyWord(message_lower, 'portfolio') ||
            verifyWord(message_lower, 'experiencia') ||
            verifyWord(message_lower, 'work') ||
            verifyWord(message_lower, 'curriculo')) {
              return 'works';
        }

        // If intent is to see links related
        if (message_lower.indexOf('links') !== -1) {
          return 'links';
        }
            

        // If intent is to see last posts
        if (verifyWord(message_lower, 'posts') ||
            verifyWord(message_lower, 'publicaÃ§Ãµes') ||
            verifyWord(message_lower, 'publicaÃ§Ã£o') ||
            verifyWord(message_lower, 'texto') ||
            verifyWord(message_lower, 'artigos')) {
              return 'posts';
        }

        // If intent is to see techs
        if (verifyWord(message_lower, 'tech') ||
            verifyWord(message_lower, 'tecnologia') ||
            verifyWord(message_lower, 'ferramentas')) {
              return 'techs';
        }

        // If intent to know more
        if (verifyWord(message_lower, 'sobre') ||
            verifyWord(message_lower, 'about') ||
            verifyWord(message_lower, 'saber mais') ||
            verifyWord(message_lower, 'quem Ã©')) {
              return 'about';
        }

        // If intent is greeting
        if (verifyWord(message_lower, 'oi') ||
            verifyWord(message_lower, 'olÃ¡') ||
            verifyWord(message_lower, 'hello') ||
            verifyWord(message_lower, 'e ai') ||
            verifyWord(message_lower, 'bom dia') ||
            verifyWord(message_lower, 'boa tarde') ||
            verifyWord(message_lower, 'boa noite') ||
            verifyWord(message_lower, 'hi')) {
              return 'greeting';
        }

        if (verifyWord(message_lower, 'como vai') ||
            verifyWord(message_lower, 'tudo bem') ||
            verifyWord(message_lower, 'tudo ok')) {
              return 'how-u-doing';
        }

        // If intent is saying good bye
        if (verifyWord(message_lower, 'tchau') ||
            verifyWord(message_lower, 'atÃ© mais') ||
            verifyWord(message_lower, 'partiu') ||
            verifyWord(message_lower, 'fui') ||
            verifyWord(message_lower, 'atÃ© logo') ||
            verifyWord(message_lower, 'bye') ||
            verifyWord(message_lower, 'abraÃ§o') ||
            verifyWord(message_lower, 'atÃ©')) {
              return 'bye';
        }

        // If intent is to thank the bot
        if (verifyWord(message_lower, 'obrigado') ||
            verifyWord(message_lower, 'legal') ||
            verifyWord(message_lower, 'massa') ||
            verifyWord(message_lower, 'valeu')) {
              return 'thanks';
        }

        // If intent is to thank the bot
        if (verifyWord(message_lower, 'haha') ||
            verifyWord(message_lower, 'kkk') ||
            verifyWord(message_lower, 'lol') ||
            verifyWord(message_lower, 'jaja') ||
            verifyWord(message_lower, 'uahahua') ||
            verifyWord(message_lower, 'huauha') ||
            verifyWord(message_lower, 'rsrs')) {
              return 'lol';
        }
      }

      function verifyWord(message, intent) {
        var punctRE = /[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,\-.\/:;<=>?@\[\]^_`{|}~]/g;
        var finalString = message.replace(punctRE, '');

        message_list = finalString.split(" ");

        for (var i = 0; i < message_list.length; i++) {
          if (Levenshtein.get(message_list[i], intent, { useCollator: true}) < 3) {
            return true;
          }
        }

        if (message.indexOf(intent) !== -1) {
          return true;
        }

        return false;
      }

      function getRandResponse(intent) {
        var myArray = all_responses[intent];

        if (myArray !== undefined) {
            return myArray[Math.floor(Math.random() * myArray.length)];
        }

        return null;
      }

      // Bot chat responses
      var all_responses = Array();
      all_responses['greeting'] = Array('Oi! Digite "menu" se quiser saber em que posso ajudÃ¡-lo!',
                                        'OlÃ¡! Se escrever "menu" eu te mostro o que podemos fazer...',
                                        'Oie! Que tal vermos o que posso fazer? Basta digitar "menu"!');

      all_responses['posts'] = Array('Que tal vermos os Ãºltimos?',
                                     'Vamos ver o que ele anda escrevendo?',
                                     'Bora ver o que tem de texto dele!');

      all_responses['no_answer'] = Array('Oops... nÃ£o entendi!',
                                         'Desculpe... eu nÃ£o consegui entender! =(',
                                         'Ai... acho que nÃ£o saquei essa!');

      all_responses['bye'] = Array('Tchau! Volte sempre!',
                                   'AtÃ© mais!',
                                   'Espero ter ajudado! Tchau!');

      all_responses['thanks'] = Array('Eu que agradeÃ§o!',
                                      'De nada, sempre um prazer!',
                                      'Que bom que ajudei!');

      all_responses['how-u-doing'] = Array('Eu vou muito bem. Adoro esse trabalho!',
                                           'TÃ´ bem!',
                                           'Estou bem =)');

      all_responses['lol'] = Array('uhauhahuhua',
                                   'HilÃ¡rio.',
                                   'hahaha, boa',
                                   'muito boa essa hahaha');

      all_responses['about'] = Array('O patrÃ£o Ã© desenvolvedor web desde 2002 e tem trabalhado com chatbots ultimamente... ainda bem!',
                                     'Meu boss Ã© desenvolvedor de aplicaÃ§Ãµes para web desde o Ã­nicio dos anos 2000... veiÃ£o.',
                                     'Quer saber mais sobre o patrÃ£o? Bem, ele Ã© desenvolvedor web faz uns 15 anos, eu acho... mas pode chamar o cara de experiente e nÃ£o de velho, hein! =P');
      all_responses['about1'] = Array('Ele tambÃ©m gosta bastante de escrever e vive postando coisas no seu blog. Se quiser dar uma olhada nos textos digita "artigos" que eu te mostro alguma coisa.',
                                      'Outra coisa que vive fazendo Ã© escrever. Posso te mostrar umas publicaÃ§Ãµes dele se vocÃª quiser... basta digitar "textos".',
                                      'Ele tambÃ©m adora escrever. Posso te mostrar umas publicaÃ§Ãµes dele se vocÃª quiser... basta digitar "textos".');

      all_responses['menu'] = Array('Vamos ver o menu? ',
                                    'Vamos lÃ¡! Escolha uma opÃ§Ã£o:',
                                    'Esse Ã© nosso menu.');

      all_responses['links'] = Array('Aqui estÃ£o alguns links relacionados ao Marcus!',
                                     'Vamos lÃ¡! Aqui estÃ£o alguns links do Marcus.');

      all_responses['works'] = Array('Esses sÃ£o alguns dos Ãºltimos trabalhos do patrÃ£o...');

      // MENU ITENS
      var menu_data = new Array();
      menu_data.push({'intent': 'menu', 'text': 'Menu'});
      menu_data.push({'intent': 'posts', 'text': 'Artigos'});
      menu_data.push({'intent': 'about', 'text': 'Sobre'});
      menu_data.push({'intent': 'works', 'text': 'Portfolio'});
      menu_data.push({'intent': 'links', 'text': 'Links'});

      // LINKS
      var links_data = new Array();
      links_data.push({'url': 'http://linkedin.com/me/beckenkamp', 'text': 'Linkedin'});
      links_data.push({'url': 'http://github.com/beckenkamp', 'text': 'Github'});
      links_data.push({'url': 'http://blog.mbeck.com.br', 'text': 'Blog'});
      links_data.push({'url': 'http://twitter.com/beckenkamp', 'text': 'Twitter'});

      // Portfolio
      var works_data = new Array();
      /*works_data[4] = {'title': 'Finbot',
                       'button_text': 'Fale com ele',
                       'description': 'O bot do Messenger que ajuda a controlar seu orÃ§amento domÃ©stico!',
                       'href': 'https://www.messenger.com/t/1809835352617288',
                       'bg_color': 'rgb(255,82,82)'};*/
      works_data.push({'title': 'ClimÃ£o',
                       'button_text': 'Fale com ele',
                       'description': 'O bot que informa o clima! Um experimento de criaÃ§Ã£o de bots para Facebook Messenger.',
                       'href': 'http://m.me/climaoweatherbot',
                       'bg_color': 'rgb(255,82,82)',
                       'icon': 'android'});
      works_data.push({'title': 'Diligeiro',
                       'button_text': 'ConheÃ§a',
                       'description': 'Uber dos correspondentes jurÃ­dicos!<br>Job: Desenvolvimento de sistema, API e WebApp.',
                       'href': 'http://diligeiro.com.br',
                       'icon': 'add_location'});
      works_data.push({'title': 'SeuProcesso',
                       'button_text': 'ConheÃ§a',
                       'description': 'Acompanhe processos jurÃ­dicos.<br>Job: Desenvolvimento de API e WebApp.',
                       'href': 'http://seuprocesso.com',
                       'bg_color': '#0c6901',
                       'icon': 'notifications_active'});
      works_data.push({'title': 'LegalNote',
                       'button_text': 'ConheÃ§a',
                       'description': 'Acompanhe processos jurÃ­dicos.<br>Job: ManutenÃ§Ã£o e desenvolvimento de novas features.',
                       'href': 'http://legalnote.com.br',
                       'bg_color': '#ee6a54',
                       'icon': 'business'});
      works_data.push({'title': 'ClienterCMS',
                       'button_text': '2015-2016',
                       'description': 'Sistema de gestÃ£o de conteÃºdo para sites de PMEs. Usado para diversos sites.',
                       'href': 'javascript:void(0)',
                       'bg_color': 'rgb(253, 155, 7)',
                       'icon': 'view_compact'});
      works_data.push({'title': 'SGH',
                       'button_text': '2012 - 2014',
                       'description': 'Job: Treinamento de equipe e reformulaÃ§Ã£o do sistema de gestÃ£o hospitalar do Hospital SÃ£o Paulo.',
                       'href': 'javascript:void(0)',
                       'bg_color': '#2d56ac',
                       'icon': 'local_hospital'});

      var links = new Array();

      // FEED READER
      $(function () {
        var getDate = function(raw) {
            var monthNames = [
              "Janeiro", "Fevereiro", "MarÃ§o",
              "Abril", "Maio", "Junho", "Julho",
              "Agosto", "Setembro", "Outubro",
              "Novembro", "Dezembro"
            ];

            var date = new Date(raw);
            var day = date.getDate();
            var monthIndex = date.getMonth();
            var year = date.getFullYear();

            return day + ' de ' + monthNames[monthIndex] + ' de ' + year;
        };

        var cleanSnippet = function(string) {
            var str = string.split('medium-feed-snippet">');
            var str2 = str[1].split("</p>");
            return str2[0];
        };

        var getImageFromSnippet = function(string) {
            var str = string.split('<img src="');
            var str2 = str[1].split("\"");
            return str2[0];
        };

        var urlRss = 'https://blog.mbeck.com.br/feed';
        //var urlRss = 'https://medium.com/feed/@beckenkamp';
        $.ajax({
            type: "GET",
            url: 'http://rss2json.com/api.json?rss_url=' + encodeURIComponent(urlRss),
            dataType: 'json',
            error: function (xhr) {
                var erro = xhr.responseText;
                alert('Erro ao ler o feed: ' + erro);
            },
            success: function (response) {
                values = response.items;
                for(var i = 0; i < values.length; i++) {
                    var value = values[i];

                    links[i] = {
                      'title': value.title,
                      'link': value.link,
                      'description': cleanSnippet(value.description),
                      'date': getDate(value.pubDate),
                      'image_url': getImageFromSnippet(value.content)
                    }
                }
            },
            complete: function() {
              //console.log(links);
            }
        });
    });
    </script>
  </body>
</html>
